{"version":3,"file":"switch.esm.js","sources":["../../../node_modules/@babel/runtime/helpers/defineProperty.js","../../../node_modules/@babel/runtime/helpers/classCallCheck.js","../../../node_modules/@babel/runtime/helpers/createClass.js","../../../node_modules/@babel/runtime/helpers/typeof.js","../../../node_modules/@babel/runtime/helpers/assertThisInitialized.js","../../../node_modules/@babel/runtime/helpers/possibleConstructorReturn.js","../../../node_modules/@babel/runtime/helpers/getPrototypeOf.js","../../../node_modules/@babel/runtime/helpers/setPrototypeOf.js","../../../node_modules/@babel/runtime/helpers/inherits.js","../src/index.js"],"sourcesContent":["function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nmodule.exports = _defineProperty;","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nmodule.exports = _classCallCheck;","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nmodule.exports = _createClass;","function _typeof2(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof2 = function _typeof2(obj) { return typeof obj; }; } else { _typeof2 = function _typeof2(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof2(obj); }\n\nfunction _typeof(obj) {\n  if (typeof Symbol === \"function\" && _typeof2(Symbol.iterator) === \"symbol\") {\n    module.exports = _typeof = function _typeof(obj) {\n      return _typeof2(obj);\n    };\n  } else {\n    module.exports = _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : _typeof2(obj);\n    };\n  }\n\n  return _typeof(obj);\n}\n\nmodule.exports = _typeof;","function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nmodule.exports = _assertThisInitialized;","var _typeof = require(\"../helpers/typeof\");\n\nvar assertThisInitialized = require(\"./assertThisInitialized\");\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}\n\nmodule.exports = _possibleConstructorReturn;","function _getPrototypeOf(o) {\n  module.exports = _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nmodule.exports = _getPrototypeOf;","function _setPrototypeOf(o, p) {\n  module.exports = _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nmodule.exports = _setPrototypeOf;","var setPrototypeOf = require(\"./setPrototypeOf\");\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}\n\nmodule.exports = _inherits;","import classnames from 'classnames';\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { prefixClsProperty } from '@pile-ui/shared';\n\nclass Switch extends React.Component {\n  constructor(props) {\n    super(props);\n    const { checked, disabled } = props;\n\n    this.onClick = this.onClick.bind(this);\n    this.onKeyPress = this.onKeyPress.bind(this);\n    this.state = {\n      checked: !!checked,\n      disabled: !!disabled,\n    };\n  }\n\n  /**\n   * 将 CSS 长度单位减去相应数值并转换\n   * 如 getMinusedSize(1) => 1px\n   * 如 getMinusedSize(3, 1) => 2px\n   * @param {*} size\n   * @param {*} minusNum\n   */\n  static getMinusedSize(size, minusNum = 0) {\n    if (typeof size === 'number') {\n      return `${size - minusNum}px`;\n    }\n    if (typeof size !== 'string') {\n      return JSON.stringify(size);\n    }\n    const reg = /\\d+/;\n    const transedSize = size.replace(\n      reg,\n      matchNum => Number(matchNum) - minusNum\n    );\n    // 如果输入了非数字字符串，则直接 return\n    if (!/^\\d+$/.test(size)) {\n      return transedSize;\n    }\n    return `${transedSize}px`;\n  }\n\n  onClick(e) {\n    /* eslint-disable prefer-const */\n    let { checked, disabled } = this.state;\n    const { onChange } = this.props;\n    if (disabled) {\n      return;\n    }\n    checked = !checked;\n    if (onChange) onChange(checked, e);\n    /* eslint-enable prefer-const */\n    this.setState({\n      checked,\n    });\n  }\n\n  onKeyPress(e) {\n    if (e.keyCode === 13) {\n      e.preventDefault();\n      this.onClick(e);\n    }\n  }\n\n  render() {\n    const { prefixCls, checkedColor, name, color, width, height } = this.props;\n    const { checked, disabled } = this.state;\n\n    const transedWidth = Switch.getMinusedSize(width);\n    const transedHeight = Switch.getMinusedSize(height);\n    const minusedHeight = Switch.getMinusedSize(height, 2);\n    const borderRadius = transedHeight;\n\n    const divWrapCSS = classnames({\n      [`${prefixCls}-switch--wrap`]: true,\n      isDisabled: disabled,\n    });\n\n    const divWrapStyle = {\n      backgroundColor: checked ? checkedColor : color,\n      width: transedWidth,\n      height: transedHeight,\n      borderRadius,\n    };\n\n    const divInnerStyle = {\n      width: minusedHeight,\n      height: minusedHeight,\n      borderRadius: minusedHeight,\n      border: checked ? `1px solid ${checkedColor}` : `1px solid ${color}`,\n      left: !checked ? '1px' : '100%',\n      marginLeft: !checked ? 0 : `-${Switch.getMinusedSize(height, 1)}`,\n    };\n\n    return (\n      <div\n        className={divWrapCSS}\n        style={divWrapStyle}\n        role=\"switch\"\n        aria-checked={checked}\n        tabIndex=\"0\"\n        onClick={this.onClick}\n        onKeyPress={this.onKeyPress}\n      >\n        <input type=\"checkbox\" name={name} value={checked} />\n        <div style={divInnerStyle} />\n      </div>\n    );\n  }\n}\n\nSwitch.defaultProps = {\n  checked: false,\n  disabled: false,\n  name: '',\n  color: '#ccc',\n  checkedColor: '#343c5c',\n  width: '50px',\n  height: '30px',\n  onChange: () => {},\n};\n\nSwitch.propTypes = {\n  checked: PropTypes.bool,\n  disabled: PropTypes.bool,\n  name: PropTypes.string,\n  color: PropTypes.string,\n  checkedColor: PropTypes.string,\n  width: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  height: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  onChange: PropTypes.func,\n};\n\nexport default prefixClsProperty(Switch);\n"],"names":["_typeof","Switch","props","checked","disabled","onClick","bind","onKeyPress","state","e","onChange","setState","keyCode","preventDefault","prefixCls","checkedColor","name","color","width","height","transedWidth","getMinusedSize","transedHeight","minusedHeight","borderRadius","divWrapCSS","classnames","divWrapStyle","backgroundColor","divInnerStyle","border","left","marginLeft","size","minusNum","JSON","stringify","reg","transedSize","replace","matchNum","Number","test","React","Component","defaultProps","propTypes","PropTypes","bool","string","oneOfType","number","func","prefixClsProperty"],"mappings":"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"}